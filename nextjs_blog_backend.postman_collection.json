{
    "info": {
        "_postman_id": "b233e9d4-a30b-4506-9f60-144491152a79",
        "name": "Next.js Blog Backend",
        "description": "API collection for the Next.js blog backend application.",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "System",
            "item": [
                {
                    "name": "Health Check",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/health",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "health"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Swagger UI",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api-docs",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api-docs"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Auth",
            "item": [
                {
                    "name": "Get Providers",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/auth/providers",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "auth",
                                "providers"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Dev Token",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/auth/dev-token",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "auth",
                                "dev-token"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Blog Posts",
            "item": [
                {
                    "name": "Get All Posts",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/blog-posts?page=1&limit=10",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "blog-posts"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "10"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Post",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"title\": \"Example Post\",\n    \"subtitle\": \"This is an example\",\n    \"markdown\": \"# Hello World\\nThis is a test post.\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/api/blog-posts",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "blog-posts"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Stock Analyses",
            "item": [
                {
                    "name": "Get All Analyses",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/stock-analyses?page=1&limit=10",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "stock-analyses"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "10"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Analysis by ID",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/stock-analyses/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "stock-analyses",
                                "1"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Analysis by ID (Slim/Exclude Data)",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/stock-analyses/1?excludeData=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "stock-analyses",
                                "1"
                            ],
                            "query": [
                                {
                                    "key": "excludeData",
                                    "value": "true"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Daily Factor Data",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/stock-analyses/1/daily-factor-data?page=1&limit=10",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "stock-analyses",
                                "1",
                                "daily-factor-data"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "10"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Daily Scores",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/stock-analyses/1/daily-scores?page=1&limit=10",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "stock-analyses",
                                "1",
                                "daily-scores"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "10"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Analysis",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"symbol\": \"TCB\",\n    \"name\": \"Techcombank\",\n    \"market\": \"VN\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/api/stock-analyses",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "stock-analyses"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Upload CSV File",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "formdata",
                            "formdata": [
                                {
                                    "key": "csvFile",
                                    "type": "file",
                                    "src": "/path/to/your/file.csv"
                                }
                            ]
                        },
                        "url": {
                            "raw": "{{base_url}}/api/stock-analyses/1/upload",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "stock-analyses",
                                "1",
                                "upload"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Import CSV Data (Legacy/Server-side Path)",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/stock-analyses/1/import",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "stock-analyses",
                                "1",
                                "import"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Trigger Analysis (Full)",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/stock-analyses/1/analyze",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "stock-analyses",
                                "1",
                                "analyze"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Workflows",
            "item": [
                {
                    "name": "Get All Workflows",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/workflows",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "workflows"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Workflow",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Test Workflow\",\n    \"description\": \"Test workflow description\",\n    \"workflow\": { \"steps\": [] },\n    \"trigger\": \"manual\",\n    \"enabled\": true\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/api/workflows",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "workflows"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Update Workflow",
                    "request": {
                        "method": "PUT",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Updated Workflow Name\",\n    \"enabled\": false\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/api/workflows/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "workflows",
                                "1"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Users",
            "item": [
                {
                    "name": "Get All Users",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/users?page=1&limit=10",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "users"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "10"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Update User Role",
                    "request": {
                        "method": "PUT",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": \"user@example.com\",\n    \"role\": \"admin\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/api/users/role",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "users",
                                "role"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Earnings",
            "item": [
                {
                    "name": "Get All Earnings",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/earnings?page=1&limit=10",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "earnings"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "10"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Earnings Data",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"symbol\": \"MSFT\",\n    \"company\": \"Microsoft\",\n    \"earningsDate\": \"2024-01-25T00:00:00.000Z\",\n    \"reportType\": \"quarterly\",\n    \"expectedEPS\": 2.5,\n    \"actualEPS\": 2.8,\n    \"revenue\": 62000000000,\n    \"expectedRevenue\": 61000000000\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/api/earnings",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "earnings"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Sync Earnings Data",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"symbols\": [\"AAPL\", \"MSFT\"]\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/api/earnings/sync",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "earnings",
                                "sync"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Analyze Earnings Data",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"symbols\": [\"AAPL\"],\n    \"earningsIds\": [1]\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/api/earnings/analyze",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "earnings",
                                "analyze"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Stocks",
            "item": [
                {
                    "name": "Get Stock Price",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/stocks/price?symbol=IBM&country=US",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "stocks",
                                "price"
                            ],
                            "query": [
                                {
                                    "key": "symbol",
                                    "value": "IBM",
                                    "description": "Stock symbol (e.g. IBM, VIC)"
                                },
                                {
                                    "key": "country",
                                    "value": "US",
                                    "description": "Market (US or VN)"
                                }
                            ]
                        }
                    },
                    "response": []
                }
            ]
        }
    ],
    "auth": {
        "type": "bearer",
        "bearer": [
            {
                "key": "token",
                "value": "{{token}}",
                "type": "string"
            }
        ]
    },
    "event": [
        {
            "listen": "prerequest",
            "script": {
                "type": "text/javascript",
                "exec": [
                    ""
                ]
            }
        },
        {
            "listen": "test",
            "script": {
                "type": "text/javascript",
                "exec": [
                    ""
                ]
            }
        }
    ],
    "variable": [
        {
            "key": "base_url",
            "value": "http://localhost:3001",
            "type": "string"
        },
        {
            "key": "token",
            "value": "your_bearer_token_here",
            "type": "string"
        }
    ]
}